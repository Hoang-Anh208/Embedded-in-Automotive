<details><summary><b>B·ªô nh·ªõ Flash & Bootloader/b></summary>
<p>

<details><summary><b>C√°c lo·∫°i b·ªô nh·ªõ</b></summary>
<p>

<details><summary><b>üìö RAM</b></summary>
<p>

RAM (Random Access Memory)** **l√† b·ªô nh·ªõ **t·∫°m th·ªùi** d√πng ƒë·ªÉ l∆∞u d·ªØ li·ªáu trong qu√° tr√¨nh ch∆∞∆°ng tr√¨nh ch·∫°y. Khi t·∫Øt ngu·ªìn, d·ªØ li·ªáu trong RAM s·∫Ω m·∫•t.

**V√≠ d·ª•**: Khi vi ƒëi·ªÅu khi·ªÉn c·∫ßn l∆∞u c√°c gi√° tr·ªã ƒëang t√≠nh to√°n ho·∫∑c c√°c bi·∫øn d√πng t·∫°m, n√≥ s·∫Ω d√πng RAM. Khi b·∫°n t·∫Øt thi·∫øt b·ªã, d·ªØ li·ªáu n√†y s·∫Ω b·ªã x√≥a.

</p>
</details>

<details><summary><b>üìö Flash</b></summary>
<p>

**Flash** l√† b·ªô nh·ªõ d√πng ƒë·ªÉ **l∆∞u tr·ªØ ch∆∞∆°ng tr√¨nh** m√† vi ƒëi·ªÅu khi·ªÉn s·∫Ω ch·∫°y. N√≥ gi·ªëng nh∆∞ ·ªï c·ª©ng c·ªßa m√°y t√≠nh ‚Äì d·ªØ li·ªáu v·∫´n c√≤n ƒë√≥ ngay c·∫£ khi b·∫°n t·∫Øt thi·∫øt b·ªã. 

**V√≠ d·ª•**: N·∫øu b·∫°n n·∫°p ch∆∞∆°ng tr√¨nh v√†o vi ƒëi·ªÅu khi·ªÉn, ch∆∞∆°ng tr√¨nh s·∫Ω n·∫±m trong Flash ƒë·ªÉ khi b·∫≠t ngu·ªìn l·∫°i, n√≥ c√≥ th·ªÉ ch·∫°y ti·∫øp.

</p>
</details>

<details><summary><b>üìö EEPROM</b></summary>
<p>

EEPROM (Electrically Erasable Programmable Read-Only Memory) l√† b·ªô nh·ªõ c√≥ th·ªÉ **l∆∞u d·ªØ li·ªáu c·∫ßn gi·ªØ l·∫°i** sau khi t·∫Øt thi·∫øt b·ªã, nh∆∞ng d·ªÖ x√≥a v√† ghi l·∫°i. N√≥ r·∫•t th√≠ch h·ª£p ƒë·ªÉ l∆∞u c√°c c√†i ƒë·∫∑t c·∫ßn gi·ªØ l√¢u d√†i, nh∆∞ng kh√¥ng c·∫ßn thay ƒë·ªïi th∆∞·ªùng xuy√™n.

**V√≠ d·ª•**: N·∫øu b·∫°n c√≥ m·ªôt c√†i ƒë·∫∑t c·∫ßn l∆∞u (nh∆∞ ƒë·ªô s√°ng c·ªßa m√†n h√¨nh), b·∫°n c√≥ th·ªÉ l∆∞u n√≥ v√†o EEPROM ƒë·ªÉ khi b·∫≠t l·∫°i, thi·∫øt b·ªã nh·ªõ ƒë∆∞·ª£c c√†i ƒë·∫∑t c·ªßa b·∫°n.

</p>
</details>

<details><summary><b>üìö So s√°nh</b></summary>
<p>

## Gi·ªëng nhau

- Flash v√† EEPROM ƒë·ªÅu l√† b·ªô nh·ªõ kh√¥ng kh·∫£ bi·∫øn, gi·ªØ l·∫°i d·ªØ li·ªáu khi m·∫•t ngu·ªìn.
- C·∫£ ba lo·∫°i ƒë·ªÅu c√≥ vai tr√≤ quan tr·ªçng trong vi ƒëi·ªÅu khi·ªÉn, h·ªó tr·ª£ c√°c t√°c v·ª• kh√°c nhau t·ª´ l∆∞u ch∆∞∆°ng tr√¨nh, x·ª≠ l√Ω d·ªØ li·ªáu t·∫°m th·ªùi ƒë·∫øn l∆∞u tr·ªØ c√°c c√†i ƒë·∫∑t h·ªá th·ªëng.

## Kh√°c nhau

|                | **Flash**                                                                                      | **RAM**                                                                                | **EEPROM**                                                                                          |
|----------------------------|------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| **Kh·∫£ bi·∫øn (Volatile)**    | Kh√¥ng kh·∫£ bi·∫øn ‚Äì d·ªØ li·ªáu v·∫´n c√≤n khi m·∫•t ngu·ªìn                                                  | Kh·∫£ bi·∫øn ‚Äì d·ªØ li·ªáu s·∫Ω m·∫•t khi m·∫•t ngu·ªìn                                                 | Kh√¥ng kh·∫£ bi·∫øn ‚Äì d·ªØ li·ªáu v·∫´n c√≤n khi m·∫•t ngu·ªìn                                                      |
| **Ch·ª©c nƒÉng ch√≠nh**        | L∆∞u tr·ªØ ch∆∞∆°ng tr√¨nh (firmware)                                                                | L∆∞u tr·ªØ d·ªØ li·ªáu t·∫°m th·ªùi, bi·∫øn c·ª•c b·ªô trong qu√° tr√¨nh ch∆∞∆°ng tr√¨nh ch·∫°y                 | L∆∞u tr·ªØ d·ªØ li·ªáu c·∫ßn gi·ªØ l·∫°i khi t·∫Øt ngu·ªìn nh∆∞ c√†i ƒë·∫∑t ho·∫∑c c·∫•u h√¨nh                                 |
| **T·ªëc ƒë·ªô truy c·∫≠p**        | Nhanh nh∆∞ng ch·∫≠m h∆°n RAM                                                                       | Nhanh nh·∫•t                                                                              | Ch·∫≠m h∆°n c·∫£ Flash v√† RAM                                                                            |
| **Kh·∫£ nƒÉng ghi/x√≥a**       | C√≥ gi·ªõi h·∫°n s·ªë l·∫ßn ghi/x√≥a (th∆∞·ªùng v√†i ng√†n ƒë·∫øn v√†i ch·ª•c ng√†n l·∫ßn)                             | Kh√¥ng c√≥ gi·ªõi h·∫°n, v√¨ kh√¥ng ghi nh·ªõ l√¢u d√†i                                             | C√≥ gi·ªõi h·∫°n s·ªë l·∫ßn ghi/x√≥a cao h∆°n Flash (th∆∞·ªùng t·ª´ 100,000 ƒë·∫øn 1 tri·ªáu l·∫ßn)                        |
| **K√≠ch th∆∞·ªõc b·ªô nh·ªõ**      | Th∆∞·ªùng l·ªõn nh·∫•t trong vi ƒëi·ªÅu khi·ªÉn ƒë·ªÉ ch·ª©a to√†n b·ªô ch∆∞∆°ng tr√¨nh                               | Nh·ªè h∆°n Flash, d√πng ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu ƒëang x·ª≠ l√Ω                                      | Th∆∞·ªùng r·∫•t nh·ªè, ch·ªâ ƒë·ªß l∆∞u m·ªôt s·ªë c·∫•u h√¨nh c·∫ßn thi·∫øt                                                 |
| **Kh·∫£ nƒÉng l∆∞u tr·ªØ**       | L∆∞u ƒë∆∞·ª£c d·ªØ li·ªáu ngay c·∫£ khi t·∫Øt ngu·ªìn                                                         | D·ªØ li·ªáu s·∫Ω m·∫•t khi t·∫Øt ngu·ªìn                                                            | L∆∞u ƒë∆∞·ª£c d·ªØ li·ªáu ngay c·∫£ khi t·∫Øt ngu·ªìn                                                              |
| **·ª®ng d·ª•ng ƒëi·ªÉn h√¨nh**     | L∆∞u tr·ªØ firmware (ch∆∞∆°ng tr√¨nh ƒëi·ªÅu khi·ªÉn)                                                     | L∆∞u tr·ªØ c√°c bi·∫øn t·∫°m th·ªùi v√† d·ªØ li·ªáu trong qu√° tr√¨nh th·ª±c thi                           | L∆∞u tr·ªØ c√°c c√†i ƒë·∫∑t c·∫•u h√¨nh, d·ªØ li·ªáu c·∫ßn gi·ªØ l·∫°i khi m·∫•t ngu·ªìn (v√≠ d·ª•: c·∫•u h√¨nh h·ªá th·ªëng, hi·ªáu chu·∫©n) |

</p>
</details>

</p>
</details>

<details><summary><b></b></summary>
<p>

</p>
</details>

<details><summary><b></b></summary>
<p>

</p>
</details>

</p>
</details>

<br>

<details><summary><b>Giao th·ª©c UART</b></summary>
<p>

<details><summary><b>Kh√°i ni·ªám</b></summary>
<p>

UART (Universal Asynchronous Receiver-Transmitter ‚Äì B·ªô truy·ªÅn nh·∫≠n d·ªØ li·ªáu kh√¥ng ƒë·ªìng b·ªô) l√† m·ªôt giao th·ª©c truy·ªÅn th√¥ng ph·∫ßn c·ª©ng d√πng giao ti·∫øp n·ªëi ti·∫øp kh√¥ng ƒë·ªìng b·ªô, bao g·ªìm hai ƒë∆∞·ªùng truy·ªÅn d·ªØ li·ªáu ƒë·ªôc l·∫≠p l√† TX (truy·ªÅn) v√† RX (nh·∫≠n). D·ªØ li·ªáu ƒë∆∞·ª£c truy·ªÅn v√† nh·∫≠n qua c√°c ƒë∆∞·ªùng truy·ªÅn n√†y d∆∞·ªõi d·∫°ng c√°c khung d·ªØ li·ªáu (data frame) c√≥ c·∫•u tr√∫c chu·∫©n, v·ªõi m·ªôt bit b·∫Øt ƒë·∫ßu (start bit), m·ªôt s·ªë bit d·ªØ li·ªáu (data bits), m·ªôt bit ki·ªÉm tra ch·∫µn l·∫ª (parity bit) v√† m·ªôt ho·∫∑c nhi·ªÅu bit d·ª´ng (stop bit).

![image](https://github.com/user-attachments/assets/8bb2fc6f-d865-49ce-93af-cfc82c58ab02)

</p>
</details>

<details><summary><b>T·ªëc ƒë·ªô truy·ªÅn UART (Baud rate)</b></summary>
<p>

Th√¥ng th∆∞·ªùng, t·ªëc ƒë·ªô truy·ªÅn c·ªßa UART ƒë∆∞·ª£c ƒë·∫∑t ·ªü m·ªôt s·ªë chu·∫©n, ch·∫≥ng h·∫°n nh∆∞ 9600, 19200, 38400, 57600, 115200 baud v√† c√°c t·ªëc ƒë·ªô kh√°c. T·ªëc ƒë·ªô truy·ªÅn n√†y ƒë·ªãnh nghƒ©a s·ªë l∆∞·ª£ng bit ƒë∆∞·ª£c truy·ªÅn qua m·ªói gi√¢y. C√°c t·ªëc ƒë·ªô truy·ªÅn kh√°c nhau th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng t√πy thu·ªôc v√†o ·ª©ng d·ª•ng v√† h·ªá th·ªëng s·ª≠ d·ª•ng.

</p>
</details>

<details><summary><b>C√°c ch·∫ø ƒë·ªô truy·ªÅn d·ªØ li·ªáu</b></summary>
<p>

UART truy·ªÅn d·ªØ li·ªáu n·ªëi ti·∫øp, theo 1 trong 3 ch·∫ø ƒë·ªô:

- **Simplex**: Ch·ªâ ti·∫øn h√†nh giao ti·∫øp m·ªôt chi·ªÅu
- **Half duplex**: D·ªØ li·ªáu s·∫Ω ƒëi theo m·ªôt h∆∞·ªõng t·∫°i 1 th·ªùi ƒëi·ªÉm
- **Full duplex**: Th·ª±c hi·ªán giao ti·∫øp ƒë·ªìng th·ªùi ƒë·∫øn v√† ƒëi t·ª´ m·ªói master v√† slave.

</p>
</details>

<details><summary><b>C√°ch th·ª©c ho·∫°t ƒë·ªông</b></summary>
<p>

Ch√¢n Tx (truy·ªÅn) c·ªßa m·ªôt chip s·∫Ω k·∫øt n·ªëi tr·ª±c ti·∫øp v·ªõi ch√¢n Rx (nh·∫≠n) c·ªßa chip kh√°c v√† ng∆∞·ª£c l·∫°i. Qu√° tr√¨nh truy·ªÅn d·ªØ li·ªáu th∆∞·ªùng s·∫Ω di·ªÖn ra ·ªü 3.3V ho·∫∑c 5V.

Khi t√≠n hi·ªáu g·ª≠i tr√™n ch√¢n Tx (truy·ªÅn), b·ªô giao ti·∫øp Uart ƒë·∫ßu ti√™n s·∫Ω d·ªãch th√¥ng tin song song n√†y th√†nh d·∫°ng n·ªëi ti·∫øp v√† sau ƒë√≥ truy·ªÅn t·ªõi thi·∫øt b·ªã nh·∫≠n. Ch√¢n Rx (nh·∫≠n) c·ªßa Uart th·ª© 2 s·∫Ω bi·∫øn ƒë·ªïi n√≥ tr·ªü l·∫°i th√†nh d·∫°ng song song ƒë·ªÉ giao ti·∫øp v·ªõi c√°c thi·∫øt b·ªã ƒëi·ªÅu khi·ªÉn.

D·ªØ li·ªáu truy·ªÅn qua Uart s·∫Ω ƒë√≥ng th√†nh c√°c g√≥i (packet). M·ªói g√≥i d·ªØ li·ªáu ch·ª©a 1 bit b·∫Øt ƒë·∫ßu, 5 ‚Äì 9 bit d·ªØ li·ªáu (t√πy thu·ªôc v√†o b·ªô Uart), 1 bit ch·∫µn l·∫ª t√πy ch·ªçn v√† 1 bit ho·∫∑c 2 bit d·ª´ng.

![image](https://github.com/user-attachments/assets/08a61cd1-45e6-4669-93e1-48fcced38435)
 
Qu√° tr√¨nh truy·ªÅn d·ªØ li·ªáu Uart s·∫Ω di·ªÖn ra d∆∞·ªõi d·∫°ng c√°c g√≥i d·ªØ li·ªáu n√†y, b·∫Øt ƒë·∫ßu b·∫±ng 1 bit b·∫Øt ƒë·∫ßu, ƒë∆∞·ªùng m·ª©c cao ƒë∆∞·ª£c k√©o d·∫ßn xu·ªëng th·∫•p. Sau bit b·∫Øt ƒë·∫ßu l√† 5 ‚Äì 9 bit d·ªØ li·ªáu truy·ªÅn trong khung d·ªØ li·ªáu c·ªßa g√≥i, theo sau l√† bit ch·∫µn l·∫ª t√πy ch·ªçn ƒë·ªÉ nh·∫±m x√°c minh vi·ªác truy·ªÅn d·ªØ li·ªáu th√≠ch h·ª£p. Sau c√πng, 1 ho·∫∑c nhi·ªÅu bit d·ª´ng s·∫Ω ƒë∆∞·ª£c truy·ªÅn ·ªü n∆°i ƒë∆∞·ªùng ƒë·∫∑t t·∫°i m·ª©c cao. V·∫≠y l√† s·∫Ω k·∫øt th√∫c vi·ªác truy·ªÅn ƒëi m·ªôt g√≥i d·ªØ li·ªáu


</p>
</details>

</p>
</details>

<br>

<details><summary><b>Giao th·ª©c SPI</b></summary>
<p>

<details><summary><b>L√Ω thuy·∫øt</b></summary>
<p>

SPI (Serial Peripheral Interface) l√† m·ªôt giao th·ª©c truy·ªÅn th√¥ng n·ªëi ti·∫øp th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c h·ªá th·ªëng nh√∫ng ƒë·ªÉ trao ƒë·ªïi d·ªØ li·ªáu gi·ªØa m·ªôt vi ƒëi·ªÅu khi·ªÉn (master) v√† c√°c thi·∫øt b·ªã ngo·∫°i vi (slave) nh∆∞ c·∫£m bi·∫øn, b·ªô nh·ªõ flash, m√†n h√¨nh LCD, v√† nhi·ªÅu lo·∫°i thi·∫øt b·ªã kh√°c.

<br>

SPI l√† m·ªôt chu·∫©n giao ti·∫øp ƒë·ªìng b·ªô truy·ªÅn d·ªØ li·ªáu ·ªü ch·∫ø ƒë·ªô **song c√¥ng (Full-Duplex)**, nghƒ©a l√† t·∫°i m·ªôt th·ªùi ƒëi·ªÉm c√≥ th·ªÉ x·∫£y ra ƒë·ªìng th·ªùi qu√° tr√¨nh truy·ªÅn v√† nh·∫≠n. L√† giao ti·∫øp ƒë·ªìng b·ªô, b·∫•t k·ª≥ qu√° tr√¨nh n√†o c≈©ng ƒë·ªÅu ƒë∆∞·ª£c ƒë·ªìng b·ªô v·ªõi xung clock sinh ra b·ªüi thi·∫øt b·ªã Master.

<br>

T·ªëc ƒë·ªô truy·ªÅn th√¥ng cao: SPI cho ph√©p truy·ªÅn d·ªØ li·ªáu v·ªõi t·ªëc ƒë·ªô r·∫•t nhanh, th∆∞·ªùng ƒë·∫°t ƒë∆∞·ª£c t·ªëc ƒë·ªô Mbps ho·∫∑c th·∫≠m ch√≠ h√†ng ch·ª•c Mbps. ƒêi·ªÅu n√†y r·∫•t h·ªØu √≠ch khi c·∫ßn truy·ªÅn d·ªØ li·ªáu nhanh v√† ƒë√°ng tin c·∫≠y trong c√°c ·ª©ng d·ª•ng nh∆∞ truy·ªÅn th√¥ng kh√¥ng d√¢y, ƒëi·ªÅu khi·ªÉn t·ª´ xa v√† truy·ªÅn d·ªØ li·ªáu ƒëa ph∆∞∆°ng ti·ªán.

</p>
</details>

<details><summary><b>S·ªë d√¢y giao ti·∫øp</b></summary>
<p>

![image](https://github.com/user-attachments/assets/e6f8191b-7417-4586-847d-82a1075d00db)

SPI s·ª≠ d·ª•ng 4 ƒë∆∞·ªùng giao ti·∫øp n√™n ƒë√¥i khi c√≤n ƒë∆∞·ª£c g·ªçi l√† chu·∫©n truy·ªÅn th√¥ng "4 d√¢y":

- **SCK (Serial Clock)**: thi·∫øt b·ªã Master t·∫°o t√≠n hi·ªáu xung clock v√† cung c·∫•p cho Slave. Xung n√†y c√≥ ch·ª©c nƒÉng gi·ªØ nh·ªãp cho giao ti·∫øp SPI. M·ªói nh·ªãp tr√™n ch√¢n SCK n√†y s·∫Ω b√°o 1 bit d·ªØ li·ªáu ƒë·∫øn ho·∫∑c ƒëi

<br>

- **MISO (Master in Slave out)**: t√≠n hi·ªáu t·∫°o b·ªüi thi·∫øt b·ªã Slave v√† nh·∫≠n b·ªüi thi·∫øt b·ªã Master. ƒê∆∞·ªùng MISO ph·∫£i ƒë∆∞·ª£c k·∫øt n·ªëi gi·ªØa thi·∫øt b·ªã Master v√† Slave.

<br>

- **MOSI (Master out Slave in)**: t√≠n hi·ªáu t·∫°o b·ªüi thi·∫øt b·ªã Master v√† nh·∫≠n b·ªüi thi·∫øt b·ªã Slave. ƒê∆∞·ªùng MOSI ph·∫£i ƒë∆∞·ª£c k·∫øt n·ªëi gi·ªØa thi·∫øt b·ªã Master v√† Slave.

<br>

- **SS (Slave Select) hay CS (Chip Select)**: ch·ªçn thi·∫øt b·ªã Slave c·ª• th·ªÉ ƒë·ªÉ giao ti·∫øp. ƒê·ªÉ ch·ªçn Slave giao ti·∫øp thi·∫øt b·ªã Master ch·ªß ƒë·ªông k√©o ƒë∆∞·ªùng SS t∆∞∆°ng ·ª©ng xu·ªëng m·ª©c 0 (Low). Ch√¢n SS (CS) c·ªßa vi ƒëi·ªÅu khi·ªÉn (Master) c√≥ th·ªÉ ƒë∆∞·ª£c ng∆∞·ªùi d√πng t·∫°o b·∫±ng c√°ch c·∫•u h√¨nh 1 ch√¢n GPIO b·∫•t k·ª≥ ch·∫ø ƒë·ªô Output.

</p>
</details>

<details><summary><b>C√°ch th·ª©c ho·∫°t ƒë·ªông</b></summary>
<p>

SPI cho ph√©p 1 Master c√≥ th·ªÉ giao ti·∫øp v·ªõi nhi·ªÅu Slave, nghƒ©a l√† 1 MCU c√≥ th·ªÉ giao ti·∫øp v·ªõi nhi·ªÅu MCU, ngo·∫°i vi kh√°c. 

<br>

C√°c Slave ch·ªâ c√≥ th·ªÉ c√≥ 1 ch√¢n SS (CS) ƒë·ªÉ nh·∫≠n t√≠n hi·ªáu ch·ªçn n√†y. Tuy nhi√™n, Master th√¨ s·∫Ω c√≥ nhi·ªÅu h∆°n 1 ch√¢n SS (CS) ƒë·ªÉ ch·ªçn t·ª´ng thi·∫øt b·ªã mu·ªën giao ti·∫øp. 

![image](https://github.com/user-attachments/assets/433718c0-f51f-46f5-8d86-c0919250f72e)

Khung truy·ªÅn SPI:

![image](https://github.com/user-attachments/assets/44def36f-d075-43ba-8a27-30eda1965dfa)

- M·ªói chip Master hay Slave ƒë·ªÅu c√≥ m·ªôt thanh ghi d·ªØ li·ªáu 8 bits. Qu√° tr√¨nh truy·ªÅn/nh·∫≠n gi·ªØa Master v√† Slave x·∫£y ra ƒë·ªìng th·ªùi theo chu k·ª≥ clock ·ªü ch√¢n SCK, m·ªôt byte d·ªØ li·ªáu ƒë∆∞·ª£c truy·ªÅn theo c·∫£ 2 h∆∞·ªõng.
- Qu√° tr√¨nh trao ƒë·ªïi d·ªØ li·ªáu b·∫Øt ƒë·∫ßu khi Master t·∫°o 1 xung clock t·ª´ b·ªô t·∫°o xung nh·ªãp v√† k√©o ƒë∆∞·ªùng SS c·ªßa Slave m√† n√≥ truy·ªÅn d·ªØ li·ªáu xu·ªëng m·ª©c LOW (0).
- M·ªói xung clock, Master s·∫Ω g·ª≠i ƒëi 1 bit t·ª´ thanh ghi d·ªãch (Shift Register) c·ªßa n√≥ ƒë·∫øn thanh ghi d·ªãch c·ªßa Slave th√¥ng qua ƒë∆∞·ªùng MISO. Nh∆∞ v·∫≠y, sau 8 chu k·ª≥ clock th√¨ ho√†n t·∫•t vi·ªác truy·ªÅn v√† nh·∫≠n 1 byte d·ªØ li·ªáu.


</p>
</details>

<details><summary><b>Ch·∫ø ƒë·ªô ho·∫°t ƒë·ªông</b></summary>
<p>

SPI c√≥ 4 ch·∫ø ƒë·ªô ho·∫°t ƒë·ªông ph·ª• thu·ªôc v√†o c·ª±c c·ªßa xung gi·ªØ (**Clock Polarity - CPOL**) v√† pha (**Phase - CPHA**).

<br>

**CPOL** d√πng ƒë·ªÉ ch·ªâ tr·∫°ng th√°i c·ªßa ch√¢n SCK ·ªü tr·∫°ng th√°i ngh·ªâ. Ch√¢n SCK gi·ªØ ·ªü **m·ª©c cao** khi ``` CPOL = 1 ``` ho·∫∑c **m·ª©c th·∫•p** khi ``` CPOL = 0```.

<br>

CPHA d√πng ƒë·ªÉ ch·ªâ c√°c m√† d·ªØ li·ªáu ƒë∆∞·ª£c l·∫•y m·∫´u theo xung. D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c l·∫•y ·ªü **c·∫°nh l√™n** c·ªßa SCK khi ``` CPHA = 0 ``` ho·∫∑c **c·∫°nh xu·ªëng** khi ``` CPHA = 1 ```.

![image](https://github.com/user-attachments/assets/36819112-5e39-4e84-8a11-ee04affe477a)

![image](https://github.com/user-attachments/assets/f2be3fa8-c80d-40de-b737-c7ffd12d07ab)


- **Mode 0 (m·∫∑c ƒë·ªãnh)**: xung nh·ªãp c·ªßa ƒë·ªìng h·ªì ·ªü m·ª©c th·∫•p (CPOL = 0) v√† d·ªØ li·ªáu ƒë∆∞·ª£c l·∫•y m·∫´u khi chuy·ªÉn t·ª´ th·∫•p sang cao (c·∫°nh l√™n) (CPHA = 0).
- **Mode 1**: xung nh·ªãp c·ªßa ƒë·ªìng h·ªì ·ªü m·ª©c th·∫•p (CPOL = 0) v√† d·ªØ li·ªáu ƒë∆∞·ª£c l·∫•y m·∫´u khi chuy·ªÉn t·ª´ cao sang th·∫•p (c·∫°nh xu·ªëng) (CPHA = 1).
- **Mode 2**: xung nh·ªãp c·ªßa ƒë·ªìng h·ªì ·ªü m·ª©c cao (CPOL = 1) v√† d·ªØ li·ªáu ƒë∆∞·ª£c l·∫•y m·∫´u khi chuy·ªÉn t·ª´ cao sang th·∫•p (c·∫°nh l√™n) (CPHA = 0).
- **Mode 3**: xung nh·ªãp c·ªßa ƒë·ªìng h·ªì ·ªü m·ª©c cao (CPOL = 1) v√† d·ªØ li·ªáu ƒë∆∞·ª£c l·∫•y m·∫´u khi chuy·ªÉn t·ª´ th·∫•p sang cao (c·∫°nh xu√¥ng) (CPHA = 1).

<br>

</p>
</details>

</p>
</details>

<br>

<details><summary><b>Giao th·ª©c CAN</b></summary>
<p>

<details><summary><b>L√Ω thuy·∫øt</b></summary>
<p>

Giao th·ª©c CAN (Controller Area Network) l√† m·ªôt giao th·ª©c truy·ªÅn th√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng r·ªông r√£i trong c√°c h·ªá th·ªëng nh√∫ng, ƒë·∫∑c bi·ªát l√† trong lƒ©nh v·ª±c √¥ t√¥ v√† c√°c ·ª©ng d·ª•ng c√¥ng nghi·ªáp. CAN cho ph√©p c√°c vi ƒëi·ªÅu khi·ªÉn v√† c√°c thi·∫øt b·ªã kh√°c nhau giao ti·∫øp v·ªõi nhau m√† kh√¥ng c·∫ßn c√≥ m√°y t√≠nh ch·ªß.

![image](https://github.com/user-attachments/assets/3d190f74-e296-402e-9e31-ac6c11be8b65)

</p>
</details>

<details><summary><b>Ki·∫øn tr√∫c</b></summary>
<p>

<details><summary><b>üìö Bus topology</b></summary>
<p>

M√µi thi·∫øt b·ªã trong h·ªá th·ªëng ƒë∆∞·ª£c g·ªçi l√† node v√† CAN s·ª≠ d·ª•ng t√¥-p√¥ bus ƒë·ªÉ k·∫øt n·ªëi c√°c node v·ªõi nhau, nghƒ©a l√† t·∫•t c·∫£ c√°c thi·∫øt b·ªã (node) ƒë·ªÅu ƒë∆∞·ª£c k·∫øt n·ªëi song song v√†o m·ªôt c·∫∑p d√¢y truy·ªÅn th√¥ng chung ƒë∆∞·ª£c g·ªçi l√† CAN bus. 

![image](https://github.com/user-attachments/assets/22f732a2-ec2f-4085-b38f-e312d596f919)

<br>

CAN bus g·ªìm 2 d√¢y t√≠n hi·ªáu ch√≠nh:

- **CAN_H (CAN High)**: d√¢y t√≠n hi·ªáu cao.
- **CAN_L (CAN Low)**: d√¢y t√≠n hi·ªáu th·∫•p.

<br>

**2 d√¢y CAN_H v√† CAN_L s·∫Ω ƒë∆∞·ª£c xo·∫Øn l·∫°i t·∫°o th√†nh ƒë∆∞·ªùng d√¢y xo·∫Øn ƒë√¥i gi√∫p**:

- **‚óè	Gi·∫£m thi·ªÉu nhi·ªÖu t·ª´ m√¥i tr∆∞·ªùng b√™n ngo√†i**: sau khi xo·∫Øn ƒë√¥i, n·∫øu c√≥ nhi·ªÖu th√¨ m·ªói d√¢y ƒë·ªÅu nh·∫≠n nhi·ªÖu nh∆∞ nhau, c√πng tƒÉng ho·∫∑c c√πng gi·∫£m m·ªôt ƒëi·ªán √°p nh∆∞ nhau, ƒëi·ªÅu n√†y s·∫Ω gi√∫p ch√™nh l·ªách ƒëi·ªán √°p gi·ªØa 2 d√¢y kh√¥ng thay ƒë·ªïi khi c√≥ nhi·ªÖu.
- **Gi·∫£m thi·ªÉu nhi·ªÖu xuy√™n √¢m**: Vi·ªác xo·∫Øn ƒë√¥i c√°c d√¢y gi√∫p gi·∫£m hi·ªán t∆∞·ª£ng n√†y b·∫±ng c√°ch ph√¢n t√°n nhi·ªÖu xuy√™n √¢m ra kh·∫Øp chi·ªÅu d√†i c·ªßa c√°p.

<br>

**ƒê·∫∑c ƒëi·ªÉm c·ªßa t√¥-p√¥ bus**:

- **K·∫øt n·ªëi song song**: T·∫•t c·∫£ c√°c thi·∫øt b·ªã tr√™n bus CAN ƒë·ªÅu ƒë∆∞·ª£c k·∫øt n·ªëi song song v·ªõi nhau. M·ªói thi·∫øt b·ªã (node) c√≥ th·ªÉ truy c·∫≠p v√†o bus ƒë·ªÉ truy·ªÅn ho·∫∑c nh·∫≠n d·ªØ li·ªáu b·∫•t c·ª© l√∫c n√†o, m√† kh√¥ng c·∫ßn m·ªôt m√°y t√≠nh ch·ªß (master) ƒëi·ªÅu khi·ªÉn.
- **Gi·∫£m s·ªë l∆∞·ª£ng d√¢y d·∫´n**: V·ªõi t√¥-p√¥ bus, t·∫•t c·∫£ c√°c thi·∫øt b·ªã chia s·∫ª chung m·ªôt bus truy·ªÅn d·ªØ li·ªáu, l√†m gi·∫£m ƒë√°ng k·ªÉ s·ªë l∆∞·ª£ng d√¢y d·∫´n so v·ªõi c√°c m√¥ h√¨nh kh√°c. ƒêi·ªÅu n√†y gi√∫p gi·∫£m chi ph√≠, ti·∫øt ki·ªám kh√¥ng gian v√† ƒë∆°n gi·∫£n h√≥a h·ªá th·ªëng d√¢y d·∫´n trong c√°c h·ªá th·ªëng nh√∫ng.
- **Termination resistor (ƒêi·ªán tr·ªü k·∫øt cu·ªëi)**: M·ªói ƒë·∫ßu c·ªßa bus CAN c·∫ßn m·ªôt ƒëi·ªán tr·ªü k·∫øt cu·ªëi v·ªõi gi√° tr·ªã 120Œ© ƒë·ªÉ ngƒÉn ch·∫∑n hi·ªán t∆∞·ª£ng ph·∫£n x·∫° t√≠n hi·ªáu (h·∫•p th·ª• ph·∫£n x·∫°). N·∫øu kh√¥ng c√≥ ƒëi·ªán tr·ªü n√†y, t√≠n hi·ªáu c√≥ th·ªÉ b·ªã ph·∫£n x·∫° l·∫°i t·ª´ c√°c ƒë·∫ßu ‚Äì cu·ªëi m·ªü, g√¢y ra nhi·ªÖu v√† l√†m h·ªèng d·ªØ li·ªáu.


</p>
</details>

<details><summary><b>üìö C√°c thi·∫øt b·ªã tr√™n bus CAN</b></summary>
<p>

M·∫°ng CAN h·ªó tr·ª£ nhi·ªÅu lo·∫°i thi·∫øt b·ªã kh√°c nhau tr√™n c√πng 1 bus, m·ªói thi·∫øt b·ªã ƒë∆∞·ª£c g·ªçi l√† m·ªôt **node**. M·ªói node s·∫Ω bao g·ªìm:

- **C·∫£m bi·∫øn (Sensors)**: C√°c c·∫£m bi·∫øn thu th·∫≠p d·ªØ li·ªáu t·ª´ m√¥i tr∆∞·ªùng (nh∆∞ nhi·ªát ƒë·ªô, √°p su·∫•t, t·ªëc ƒë·ªô) v√† g·ª≠i d·ªØ li·ªáu n√†y l√™n bus CAN ƒë·ªÉ c√°c thi·∫øt b·ªã kh√°c x·ª≠ l√Ω.
- **Actuator (Thi·∫øt b·ªã k√≠ch ƒë·ªông)**: ƒê√¢y l√† c√°c thi·∫øt b·ªã ƒë·∫ßu ra, nh·∫≠n l·ªánh t·ª´ c√°c vi ƒëi·ªÅu khi·ªÉn qua bus CAN ƒë·ªÉ th·ª±c hi·ªán c√°c h√†nh ƒë·ªông v·∫≠t l√Ω, ch·∫≥ng h·∫°n nh∆∞ m·ªü van, ƒëi·ªÅu khi·ªÉn ƒë·ªông c∆° ho·∫∑c b·∫≠t ƒë√®n.
- **B·ªô ƒëi·ªÅu khi·ªÉn CAN (CAN Controller)**: ƒê√¢y l√† th√†nh ph·∫ßn ch√≠nh trong node CAN, c√≥ nhi·ªám v·ª• x·ª≠ l√Ω to√†n b·ªô giao ti·∫øp CAN.

    üìö G·ª≠i v√† nh·∫≠n th√¥ng ƒëi·ªáp CAN.
  
    üìö ƒêi·ªÅu khi·ªÉn truy c·∫≠p v√†o bus CAN (arbitration).
  
    üìö Ph√°t hi·ªán v√† x·ª≠ l√Ω c√°c l·ªói truy·ªÅn th√¥ng CAN.
  
    üìö Ki·ªÉm so√°t vi·ªác truy·ªÅn l·∫°i th√¥ng ƒëi·ªáp khi g·∫∑p l·ªói.
  
    üìö Cung c·∫•p giao di·ªán gi·ªØa c√°c **vi ƒëi·ªÅu khi·ªÉn** v√† bus CAN.

- **CAN Transceiver**:

    üìö Chuy·ªÉn ƒë·ªïi t√≠n hi·ªáu s·ªë t·ª´ b·ªô ƒëi·ªÅu khi·ªÉn CAN th√†nh t√≠n hi·ªáu ƒëi·ªán √°p d·∫°ng vi sai (CAN_H v√† CAN_L) ƒë·ªÉ g·ª≠i l√™n bus CAN v√† ng∆∞·ª£c l·∫°i.

    üìö ƒê·∫£m b·∫£o t√≠n hi·ªáu truy·ªÅn v√† nh·∫≠n bus CAN c√≥ ƒë·ªô ch√≠nh x√°c v√† t·ªëc ƒë·ªô cao.

- **Vi ƒëi·ªÅu khi·ªÉn (Microcontroller)**: l√† th√†nh ph·∫ßn trung t√¢m ƒëi·ªÅu khi·ªÉn ho·∫°t ƒë·ªông c·ªßa node CAN.

    üìö ƒê·ªçc v√† x·ª≠ l√Ω th√¥ng ƒëi·ªáp CAN.

    üìö T·∫°o ra th√¥ng ƒëi·ªáp CAN ƒë·ªÉ truy·ªÅn ƒëi.

    üìö Qu·∫£n l√Ω c√°c khung d·ªØ li·ªáu, bit arbitration v√† qu√° tr√¨nh x·ª≠ l√Ω l·ªói.

    üìö ƒêi·ªÅu khi·ªÉn h√†nh vi c·ªßa node (v√≠ d·ª•: b·∫≠t/t·∫Øt node, reset node khi g·∫∑p l·ªói bus-off).

</p>
</details>

<details><summary><b>üìö ƒê·∫∑c ƒëi·ªÉm giao ti·∫øp c·ªßa CAN</b></summary>
<p>

- **Kh√¥ng c·∫ßn m√°y t√≠nh ch·ªß (No Master-Slave Architecture)**: M·∫°ng CAN kh√¥ng tu√¢n theo ki·∫øn tr√∫c master-slave. T·∫•t c·∫£ c√°c thi·∫øt b·ªã tr√™n bus ƒë·ªÅu c√≥ quy·ªÅn b√¨nh ƒë·∫≥ng trong vi·ªác truy·ªÅn d·ªØ li·ªáu m√† kh√¥ng c·∫ßn ph·∫£i c√≥ thi·∫øt b·ªã ch·ªß ƒëi·ªÅu khi·ªÉn. ƒêi·ªÅu n√†y cho ph√©p m·∫°ng ho·∫°t ƒë·ªông linh ho·∫°t h∆°n, khi b·∫•t k·ª≥ node n√†o c≈©ng c√≥ th·ªÉ truy·ªÅn ho·∫∑c nh·∫≠n th√¥ng tin b·∫•t c·ª© l√∫c n√†o.

<br>

- **Truy·ªÅn th√¥ng qu·∫£ng b√° (Broadcast Communication)**: Khi m·ªôt node g·ª≠i th√¥ng ƒëi·ªáp, th√¥ng ƒëi·ªáp ƒë√≥ s·∫Ω ƒë∆∞·ª£c ph√°t s√≥ng ƒë·∫øn t·∫•t c·∫£ c√°c node kh√°c tr√™n bus. Tuy nhi√™n, kh√¥ng ph·∫£i t·∫•t c·∫£ c√°c node ƒë·ªÅu x·ª≠ l√Ω th√¥ng ƒëi·ªáp n√†y. M·ªói node s·∫Ω s·ª≠ d·ª•ng b·ªô l·ªçc ƒë·ªÉ ki·ªÉm tra xem th√¥ng ƒëi·ªáp c√≥ ph√π h·ª£p v·ªõi m√¨nh hay kh√¥ng.

<br>

- **Tranh ch·∫•p quy·ªÅn g·ª≠i (Arbitration)**: N·∫øu c√≥ nhi·ªÅu node c√πng mu·ªën g·ª≠i d·ªØ li·ªáu l√™n bus c√πng m·ªôt l√∫c, CAN s·∫Ω th·ª±c hi·ªán c∆° ch·∫ø tranh ch·∫•p:

    üìö M·ªói th√¥ng ƒëi·ªáp CAN c√≥ m·ªôt ID ∆∞u ti√™n. Node n√†o c√≥ th√¥ng ƒëi·ªáp v·ªõi ID ∆∞u ti√™n th·∫•p h∆°n (t·ª©c c√≥ ƒë·ªô ∆∞u ti√™n cao h∆°n) s·∫Ω chi·∫øm quy·ªÅn truy c·∫≠p bus v√† g·ª≠i th√¥ng ƒëi·ªáp tr∆∞·ªõc.

    üìö Nh·ªØng node kh√°c c√≥ ID ∆∞u ti√™n cao h∆°n s·∫Ω t·ª± ƒë·ªông d·ª´ng l·∫°i v√† ch·ªù l∆∞·ª£t ti·∫øp theo ƒë·ªÉ g·ª≠i th√¥ng ƒëi·ªáp.

    üìö Qu√° tr√¨nh arbitration di·ªÖn ra m√† kh√¥ng g√¢y m·∫•t d·ªØ li·ªáu hay l√†m gi√°n ƒëo·∫°n c√°c thi·∫øt b·ªã kh√°c, v√¨ th·∫ø m·∫°ng CAN l√† m·ªôt h·ªá th·ªëng non-destructive (kh√¥ng g√¢y m·∫•t d·ªØ li·ªáu).

<br>

- **Giao ti·∫øp song c√¥ng (Full-duplex Communication)**: M·∫∑c d√π ch·ªâ s·ª≠ d·ª•ng m·ªôt bus v·ªõi hai d√¢y t√≠n hi·ªáu, m·∫°ng CAN v·∫´n cho ph√©p c√°c node v·ª´a g·ª≠i v·ª´a nh·∫≠n d·ªØ li·ªáu ƒë·ªìng th·ªùi. ƒêi·ªÅu n√†y gi√∫p m·∫°ng CAN ho·∫°t ƒë·ªông hi·ªáu qu·∫£ v√† kh√¥ng b·ªã ngh·∫Ωn khi c√≥ nhi·ªÅu thi·∫øt b·ªã c√πng giao ti·∫øp.

<br>

- **Ph√°t hi·ªán v√† x·ª≠ l√Ω l·ªói t·ª± ƒë·ªông**: M·ªôt t√≠nh nƒÉng quan tr·ªçng kh√°c c·ªßa m·∫°ng CAN l√† kh·∫£ nƒÉng t·ª± ƒë·ªông ph√°t hi·ªán v√† x·ª≠ l√Ω l·ªói. N·∫øu m·ªôt node ph√°t hi·ªán ra l·ªói trong qu√° tr√¨nh truy·ªÅn ho·∫∑c nh·∫≠n d·ªØ li·ªáu (do nhi·ªÖu, m·∫•t g√≥i, ho·∫∑c l·ªói t√≠n hi·ªáu), node ƒë√≥ s·∫Ω g·ª≠i m·ªôt Error Frame ƒë·ªÉ th√¥ng b√°o cho c√°c node kh√°c r·∫±ng d·ªØ li·ªáu b·ªã l·ªói. Sau ƒë√≥, th√¥ng ƒëi·ªáp s·∫Ω ƒë∆∞·ª£c truy·ªÅn l·∫°i.


</p>
</details>

</p>
</details>

<details><summary><b>Khung d·ªØ li·ªáu CAN</b></summary>
<p>

<details><summary><b>1. C·∫•u tr√∫c chung c·ªßa m·ªôt khung d·ªØ li·ªáu trong CAN</b></summary>
<p>

![image](https://github.com/user-attachments/assets/886378e1-fc4a-4014-8d30-c339d8493389)

<details><summary><b>üìö Start of Frame (SOF) </b></summary>
<p>

SOF l√† bit b·∫Øt ƒë·∫ßu c·ªßa khung d·ªØ li·ªáu, **ch·ªâ c√≥ gi√° tr·ªã dominant (0)**. N√≥ b√°o hi·ªáu r·∫±ng m·ªôt khung d·ªØ li·ªáu m·ªõi ƒëang b·∫Øt ƒë·∫ßu. T·∫•t c·∫£ c√°c node tr√™n m·∫°ng s·∫Ω nh·∫≠n bi·∫øt r·∫±ng ƒë√¢y l√† th·ªùi ƒëi·ªÉm ƒë·ªÉ b·∫Øt ƒë·∫ßu ƒë·ªçc d·ªØ li·ªáu.

</p>
</details>

<details><summary><b>üìö Arbitration Field (Tr∆∞·ªùng tranh ch·∫•p)</b></summary>
<p>

Tr∆∞·ªùng n√†y ch·ª©a ID c·ªßa th√¥ng ƒëi·ªáp v√† bit RTR (Remote Transmission Request).

- **ID**: Ch·ª©a ƒë·ªãnh danh c·ªßa th√¥ng ƒëi·ªáp, ID n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x√°c ƒë·ªãnh m·ª©c ƒë·ªô ∆∞u ti√™n trong qu√° tr√¨nh arbitration (tranh ch·∫•p quy·ªÅn g·ª≠i).
- **RTR**: ƒê·ªëi v·ªõi Data Frame, bit n√†y s·∫Ω c√≥ gi√° tr·ªã dominant (0). ƒê·ªëi v·ªõi Remote Frame, bit n√†y s·∫Ω c√≥ gi√° tr·ªã recessive (1), b√°o hi·ªáu r·∫±ng ƒë√¢y l√† m·ªôt y√™u c·∫ßu d·ªØ li·ªáu t·ª´ m·ªôt node kh√°c.

</p>
</details>

<details><summary><b>üìö Control Field (Tr∆∞·ªùng ƒëi·ªÅu khi·ªÉn)</b></summary>
<p>

Control Field ch·ª©a c√°c th√¥ng tin v·ªÅ k√≠ch th∆∞·ªõc c·ªßa ph·∫ßn d·ªØ li·ªáu.

DLC (Data Length Code): ƒê√¢y l√† tr∆∞·ªùng quan tr·ªçng trong Control Field, x√°c ƒë·ªãnh ƒë·ªô d√†i c·ªßa d·ªØ li·ªáu (t·ª´ 0 ƒë·∫øn 8 byte).

</p>
</details>

<details><summary><b>üìö Data Field (Tr∆∞·ªùng d·ªØ li·ªáu)</b></summary>
<p>

Data Field l√† ph·∫ßn ch·ª©a d·ªØ li·ªáu ch√≠nh c·ªßa khung, c√≥ th·ªÉ c√≥ t·ª´ 0 ƒë·∫øn 8 byte d·ªØ li·ªáu. Trong Data Frame, ƒë√¢y l√† n∆°i ch·ª©a th√¥ng tin m√† node g·ª≠i mu·ªën truy·ªÅn t·∫£i.

</p>
</details>

<details><summary><b>üìö CRC Field (Tr∆∞·ªùng ki·ªÉm tra l·ªói)</b></summary>
<p>

ƒê√¢y l√† tr∆∞·ªùng ki·ªÉm tra l·ªói, gi√∫p ph√°t hi·ªán c√°c l·ªói x·∫£y ra trong qu√° tr√¨nh truy·ªÅn d·ªØ li·ªáu. Node nh·∫≠n s·∫Ω s·ª≠ d·ª•ng CRC Field ƒë·ªÉ ki·ªÉm tra xem d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c truy·ªÅn ch√≠nh x√°c hay ch∆∞a. N·∫øu ph√°t hi·ªán l·ªói, m·ªôt Error Frame s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒëi.

</p>
</details>

<details><summary><b>üìö ACK Field (Tr∆∞·ªùng x√°c nh·∫≠n)</b></summary>
<p>

ACK Field ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ x√°c nh·∫≠n r·∫±ng m·ªôt th√¥ng ƒëi·ªáp ƒë√£ ƒë∆∞·ª£c nh·∫≠n th√†nh c√¥ng. Khi m·ªôt node nh·∫≠n ƒë∆∞·ª£c d·ªØ li·ªáu m√† kh√¥ng ph√°t hi·ªán l·ªói, n√≥ s·∫Ω g·ª≠i bit ACK dominant (0) v√†o tr∆∞·ªùng ACK ƒë·ªÉ th√¥ng b√°o cho node g·ª≠i r·∫±ng d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c nh·∫≠n ch√≠nh x√°c.

N·∫øu kh√¥ng c√≥ node n√†o g·ª≠i ACK, ƒëi·ªÅu n√†y b√°o hi·ªáu r·∫±ng c√≥ l·ªói x·∫£y ra ho·∫∑c th√¥ng ƒëi·ªáp kh√¥ng ƒë∆∞·ª£c nh·∫≠n ƒë√∫ng c√°ch, v√† node g·ª≠i s·∫Ω ph·∫£i truy·ªÅn l·∫°i th√¥ng ƒëi·ªáp.

</p>
</details>

<details><summary><b>üìö End of Frame (EOF)</b></summary>
<p>

EOF l√† tr∆∞·ªùng k·∫øt th√∫c c·ªßa khung d·ªØ li·ªáu, ch·ª©a m·ªôt chu·ªói c√°c bit recessive (1). Tr∆∞·ªùng n√†y b√°o hi·ªáu r·∫±ng to√†n b·ªô khung d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c truy·ªÅn v√† qu√° tr√¨nh truy·ªÅn th√¥ng cho khung n√†y ƒë√£ k·∫øt th√∫c.

</p>
</details>

</p>
</details>

<details><summary><b>2. C√°c lo·∫°i khung d·ªØ li·ªáu trong CAN</b></summary>
<p>

<details><summary><b>üìö Data Frame (Khung d·ªØ li·ªáu)</b></summary>
<p>

Data Frame l√† khung ph·ªï bi·∫øn nh·∫•t ƒë∆∞·ª£c s·ª≠ d·ª•ng trong giao th·ª©c CAN v√† ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ truy·ªÅn d·ªØ li·ªáu th·ª±c t·∫ø gi·ªØa c√°c node tr√™n m·∫°ng CAN.

Data Frame bao g·ªìm c√°c th√¥ng tin v·ªÅ ƒë·ªãa ch·ªâ c·ªßa node g·ª≠i v√† nh·∫≠n, k√≠ch th∆∞·ªõc d·ªØ li·ªáu, v√† ch√≠nh d·ªØ li·ªáu c·∫ßn truy·ªÅn. Frame n√†y gi√∫p ƒë·∫£m b·∫£o r·∫±ng d·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c truy·ªÅn ƒë√∫ng c√°ch v√† b·∫£o v·ªá kh·ªèi l·ªói b·∫±ng c√°ch s·ª≠ d·ª•ng m√£ ki·ªÉm tra CRC.

<br>

**C·∫•u tr√∫c c·ªßa Data Frame**:

![image](https://github.com/user-attachments/assets/ecbe004b-98e1-44fd-8015-4cf8761c659b)

![image](https://github.com/user-attachments/assets/43169b4f-e71f-4df5-ab94-1071659b839c)

- **1. Start of Frame (SOF)**: 1 bit ƒë·ªÉ b√°o hi·ªáu b·∫Øt ƒë·∫ßu c·ªßa khung truy·ªÅn v√† **lu√¥n l√† m·ªôt bit dominant (0)**.
- **2. Arbitration Field**: Ch·ª©a ƒë·ªãa ch·ªâ c·ªßa node g·ª≠i ho·∫∑c node nh·∫≠n. C√≥ th·ªÉ l√† **11-bit ID (Identifier chu·∫©n)** ho·∫∑c **29-bit ID (Identifier m·ªü r·ªông)**, gi√∫p ph√¢n bi·ªát gi·ªØa c√°c node. Tr∆∞·ªùng n√†y c≈©ng ch·ª©a 1 bit RTR ƒë·ªÉ x√°c ƒë·ªãnh ki·ªÉu khung l√† Data Frame (RTR = 0) hay Remote Frame (RTR = 1).
- **3. Control Field**: Ch·ª©a DLC (Data Length Code), ch·ªâ ra s·ªë byte d·ªØ li·ªáu trong khung, t·ª´ 0 ƒë·∫øn 8 byte.
- **4. Data Field**: Ch·ª©a d·ªØ li·ªáu th·ª±c t·∫ø c·∫ßn truy·ªÅn. ƒê·ªô d√†i t·ª´ 0 ƒë·∫øn 8 byte t√πy thu·ªôc v√†o gi√° tr·ªã c·ªßa DLC.
- **5. CRC Field**: D√πng ƒë·ªÉ ph√°t hi·ªán l·ªói trong qu√° tr√¨nh truy·ªÅn th√¥ng qua m·∫°ng.
- **6. ACK Field**: Node nh·∫≠n s·∫Ω g·ª≠i t√≠n hi·ªáu ACK ƒë·ªÉ x√°c nh·∫≠n r·∫±ng d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c nh·∫≠n th√†nh c√¥ng.
- **7. End of Frame (EOF)**: g·ªìm 7 bit Recessive, d√πng ƒë·ªÉ th√¥ng b√°o k·∫øt th√∫c m·ªôt Data Frame hay Remote Frame.

<br>

Data Frame **x·∫£y ra** khi m·ªôt node c·∫ßn truy·ªÅn d·ªØ li·ªáu ƒë·∫øn c√°c node kh√°c tr√™n m·∫°ng CAN. C√°c ·ª©ng d·ª•ng ph·ªï bi·∫øn c·ªßa Data Frame bao g·ªìm giao ti·∫øp gi·ªØa c√°c vi ƒëi·ªÅu khi·ªÉn, c·∫£m bi·∫øn, ho·∫∑c thi·∫øt b·ªã ƒëi·ªÅu khi·ªÉn trong c√°c h·ªá th·ªëng nh√∫ng.

<br>

**T√¨nh hu·ªëng s·ª≠ d·ª•ng**:

- Data Frame n√†y c√≥ th·ªÉ ƒë∆∞·ª£c d√πng trong m·ªôt m·∫°ng CAN c·ªßa xe h∆°i, n∆°i m√† b·ªô ƒëi·ªÅu khi·ªÉn trung t√¢m (ECU) g·ª≠i l·ªánh ƒëi·ªÅu khi·ªÉn c√°c m√¥-t∆° ho·∫∑c c·∫£m bi·∫øn trong h·ªá th·ªëng. V√≠ d·ª•, n·∫øu ƒë√¢y l√† m·ªôt h·ªá th·ªëng ƒëi·ªÅu khi·ªÉn gh·∫ø xe, l·ªánh ƒëi·ªÅu khi·ªÉn c√≥ th·ªÉ y√™u c·∫ßu m√¥-t∆° di chuy·ªÉn gh·∫ø ƒë·∫øn v·ªã tr√≠ m·ªõi.
- Trong ·ª©ng d·ª•ng c√¥ng nghi·ªáp, Data Frame c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ m·ªôt c·∫£m bi·∫øn g·ª≠i d·ªØ li·ªáu v·ªÅ nhi·ªát ƒë·ªô ho·∫∑c √°p su·∫•t t·ªõi b·ªô ƒëi·ªÅu khi·ªÉn ch√≠nh ƒë·ªÉ th·ª±c hi·ªán c√°c h√†nh ƒë·ªông ƒëi·ªÅu ch·ªânh.

</p>
</details>

<details><summary><b>üìö Remote Frame (Khung y√™u c·∫ßu)</b></summary>
<p>

Remote Frame l√† m·ªôt lo·∫°i khung trong giao th·ª©c CAN ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ y√™u c·∫ßu m·ªôt node kh√°c g·ª≠i d·ªØ li·ªáu qua Data Frame. Kh√°c v·ªõi Data Frame, Remote Frame kh√¥ng ch·ª©a d·ªØ li·ªáu th·ª±c t·∫ø trong tr∆∞·ªùng Data Field, m√† ch·ªâ y√™u c·∫ßu node kh√°c g·ª≠i l·∫°i m·ªôt Data Frame c√≥ c√πng ƒë·ªãnh danh (Identifier). M·ªôt trong nh·ªØng ƒë·∫∑c ƒëi·ªÉm quan tr·ªçng c·ªßa Remote Frame l√† n√≥ thi·∫øt l·∫≠p bit RTR (Remote Transmission Request) ƒë·ªÉ ph√¢n bi·ªát v·ªõi Data Frame.

<br>

**C·∫•u tr√∫c c·ªßa Remote Frame**

![image](https://github.com/user-attachments/assets/94e44523-7435-4bcd-bb7f-5d015a0b1eb5)

- **1. Start of Frame (SOF)**: 1 bit ƒë·ªÉ b√°o hi·ªáu b·∫Øt ƒë·∫ßu c·ªßa khung truy·ªÅn v√† **lu√¥n l√† m·ªôt bit dominant (0)**.
- **2. Arbitration Field**: Bao g·ªìm ƒë·ªãnh danh (11-bit ho·∫∑c 29-bit Identifier) v√† bit RTR ƒë∆∞·ª£c ƒë·∫∑t th√†nh 1 ƒë·ªÉ b√°o ƒë√¢y l√† Remote Frame.
- **3. Control Field**: Ch·ª©a DLC (Data Length Code), ch·ªâ ra s·ªë byte d·ªØ li·ªáu trong khung, t·ª´ 0 ƒë·∫øn 8 byte.
- **4. CRC Field**: D√πng ƒë·ªÉ ph√°t hi·ªán l·ªói trong qu√° tr√¨nh truy·ªÅn th√¥ng qua m·∫°ng.
- **5. ACK Field**: S·ª≠ d·ª•ng ƒë·ªÉ x√°c nh·∫≠n r·∫±ng khung ƒë√£ ƒë∆∞·ª£c nh·∫≠n.
- **6. End of Frame (EOF)**: g·ªìm 7 bit Recessive, d√πng ƒë·ªÉ th√¥ng b√°o k·∫øt th√∫c m·ªôt Data Frame hay Remote Frame.

<br>

Remote Frame **x·∫£y ra** khi m·ªôt node mu·ªën y√™u c·∫ßu d·ªØ li·ªáu t·ª´ m·ªôt node kh√°c tr√™n m·∫°ng CAN m√† kh√¥ng t·ª± ƒë·ªông nh·∫≠n d·ªØ li·ªáu. Node g·ª≠i s·∫Ω ph√°t Remote Frame, sau ƒë√≥ node nh·∫≠n s·∫Ω tr·∫£ l·ªùi b·∫±ng m·ªôt Data Frame ch·ª©a d·ªØ li·ªáu ƒë∆∞·ª£c y√™u c·∫ßu.

<br>

**T√¨nh hu·ªëng s·ª≠ d·ª•ng**

- Remote Frame n√†y c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng trong m·ªôt m·∫°ng CAN c√¥ng nghi·ªáp ƒë·ªÉ y√™u c·∫ßu c·∫£m bi·∫øn g·ª≠i d·ªØ li·ªáu khi c·∫ßn thi·∫øt. V√≠ d·ª•, m·ªôt b·ªô ƒëi·ªÅu khi·ªÉn trung t√¢m c√≥ th·ªÉ g·ª≠i Remote Frame v·ªõi ƒë·ªãnh danh c·ªßa c·∫£m bi·∫øn nhi·ªát ƒë·ªô, y√™u c·∫ßu n√≥ g·ª≠i l·∫°i Data Frame ch·ª©a th√¥ng tin nhi·ªát ƒë·ªô hi·ªán t·∫°i.
- Trong m·ªôt h·ªá th·ªëng xe h∆°i, Remote Frame c√≥ th·ªÉ ƒë∆∞·ª£c g·ª≠i b·ªüi ECU ƒë·ªÉ y√™u c·∫ßu c·∫£m bi·∫øn v·ªã tr√≠ c·ªßa b√°nh xe g·ª≠i l·∫°i th√¥ng tin v·ªã tr√≠ hi·ªán t·∫°i, t·ª´ ƒë√≥ gi√∫p ƒëi·ªÅu khi·ªÉn h·ªá th·ªëng phanh ABS ho·∫∑c ƒëi·ªÅu ch·ªânh c√°c th√¥ng s·ªë kh√°c trong xe.


</p>
</details>

<details><summary><b>üìö Error Frame (Khung l·ªói)</b></summary>
<p>

**Error Frame** l√† khung ƒë∆∞·ª£c t·ª± ƒë·ªông ph√°t ra b·ªüi m·ªôt node CAN khi n√≥ ph√°t hi·ªán l·ªói trong qu√° tr√¨nh giao ti·∫øp. Khung n√†y c√≥ m·ª•c ƒë√≠ch th√¥ng b√°o cho c√°c node kh√°c trong m·∫°ng v·ªÅ vi·ªác ph√°t hi·ªán l·ªói v√† y√™u c·∫ßu qu√° tr√¨nh truy·ªÅn th√¥ng ƒë∆∞·ª£c kh·ªüi ƒë·ªông l·∫°i. Error Frame kh√¥ng ƒë∆∞·ª£c ng∆∞·ªùi d√πng g·ª≠i tr·ª±c ti·∫øp, m√† ph·∫ßn c·ª©ng CAN s·∫Ω t·ª± ƒë·ªông ph√°t hi·ªán v√† ph√°t ra khi c√≥ l·ªói.

Trong giao th·ª©c CAN, c√≥ hai lo·∫°i Error Frame:

- **Active Error Frame**: ƒê∆∞·ª£c ph√°t ra b·ªüi m·ªôt node ƒëang trong tr·∫°ng th√°i Active Error, c√≥ th·ªÉ can thi·ªáp ƒë·ªÉ s·ª≠a l·ªói. Node n√†y s·∫Ω ph√°t ra 6 bit Error Flag (6 bit li√™n ti·∫øp c√≥ gi√° tr·ªã 0 - dominant bit).
- **Passive Error Frame**: ƒê∆∞·ª£c ph√°t ra b·ªüi m·ªôt node trong tr·∫°ng th√°i Passive Error, khi n√≥ ƒë√£ g·∫∑p nhi·ªÅu l·ªói nh∆∞ng kh√¥ng th·ªÉ s·ª≠a l·ªói. 12 bit Error Flag ƒë∆∞·ª£c g·ª≠i (thay v√¨ 6 bit trong **Active Error Frame**), bao g·ªìm 6 bit dominant v√† 6 bit recessive. ƒêi·ªÅu n√†y nh·∫±m th√¥ng b√°o r·∫±ng node ƒë√≥ ƒë√£ v∆∞·ª£t qua gi·ªõi h·∫°n l·ªói v√† kh√¥ng c√≤n kh·∫£ nƒÉng s·ª≠a l·ªói ch·ªß ƒë·ªông.

<br>

**Chuy·ªÉn ƒë·ªïi gi·ªØa c√°c tr·∫°ng th√°i Active v√† Passive**

Error Counter: C√°c node CAN qu·∫£n l√Ω m·ªôt Error Counter ƒë·ªÉ theo d√µi s·ªë l∆∞·ª£ng l·ªói m√† ch√∫ng g·∫∑p ph·∫£i. M·ªói khi m·ªôt l·ªói ƒë∆∞·ª£c ph√°t hi·ªán, gi√° tr·ªã c·ªßa Error Counter s·∫Ω tƒÉng l√™n.

- Khi Error Counter **v∆∞·ª£t qua ng∆∞·ª°ng 127**, node s·∫Ω chuy·ªÉn t·ª´ tr·∫°ng th√°i Active Error sang Passive Error. Trong tr·∫°ng th√°i n√†y, node s·∫Ω ph√°t ra Passive Error Frame n·∫øu ph√°t hi·ªán l·ªói.
- N·∫øu Error Counter ti·∫øp t·ª•c tƒÉng v√† v∆∞·ª£t ng∆∞·ª°ng 255, node s·∫Ω chuy·ªÉn sang tr·∫°ng th√°i Bus Off, t·ª©c l√† node s·∫Ω b·ªã lo·∫°i kh·ªèi m·∫°ng CAN v√† kh√¥ng th·ªÉ giao ti·∫øp th√™m cho ƒë·∫øn khi ƒë∆∞·ª£c reset l·∫°i.

<br>

**C·∫•u tr√∫c c·ªßa Error Frame**:

![image](https://github.com/user-attachments/assets/f44e22cd-3990-4702-bdc3-f26c47171335)

- **1. Error Flag**: 6 ho·∫∑c 12 bit, ph·ª• thu·ªôc v√†o tr·∫°ng th√°i l·ªói (Active ho·∫∑c Passive).
- **2. Error Delimiter**: 8 bit ƒë·ªÉ ph√¢n t√°ch Error Frame v·ªõi c√°c khung kh√°c.

<br>

Error Frame x·∫£y ra khi m·ªôt node ph√°t hi·ªán m·ªôt trong c√°c l·ªói sau trong qu√° tr√¨nh truy·ªÅn d·ªØ li·ªáu:

- **Bit Error**: X·∫£y ra khi m·ªôt node ph√°t hi·ªán bit truy·ªÅn ra kh√¥ng gi·ªëng v·ªõi bit nh·∫≠n ƒë∆∞·ª£c.
- **CRC Error**: X·∫£y ra khi c√≥ l·ªói trong qu√° tr√¨nh ki·ªÉm tra m√£ CRC.
- **ACK Error**: X·∫£y ra khi node kh√¥ng nh·∫≠n ƒë∆∞·ª£c t√≠n hi·ªáu ACK t·ª´ c√°c node kh√°c.
- **Form Error**: X·∫£y ra khi m·ªôt tr∆∞·ªùng trong khung kh√¥ng tu√¢n theo ƒë·ªãnh d·∫°ng ƒë√∫ng c·ªßa giao th·ª©c CAN.
- **Stuff Error**: X·∫£y ra khi c√≥ nhi·ªÅu h∆°n 5 bit gi·ªëng nhau li√™n ti·∫øp trong m·ªôt khung (CAN s·ª≠ d·ª•ng Bit stuffing ƒë·ªÉ tr√°nh ƒëi·ªÅu n√†y).

Khi b·∫•t k·ª≥ l·ªói n√†o ƒë∆∞·ª£c ph√°t hi·ªán, node ph√°t ra Error Frame v√† c√°c node kh√°c tr√™n m·∫°ng CAN s·∫Ω t·∫°m d·ª´ng qu√° tr√¨nh giao ti·∫øp v√† x·ª≠ l√Ω l·∫°i khung


</p>
</details>

<details><summary><b>üìö Overload Frame (Khung qu√° t·∫£i)</b></summary>
<p>

Overload Frame l√† m·ªôt lo·∫°i khung ƒë·∫∑c bi·ªát trong giao th·ª©c CAN ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ tr√¨ ho√£n vi·ªác truy·ªÅn d·ªØ li·ªáu khi m·ªôt node trong m·∫°ng CAN c·∫ßn th√™m th·ªùi gian ƒë·ªÉ x·ª≠ l√Ω. Khung n√†y kh√¥ng ch·ª©a d·ªØ li·ªáu, m√† ch·ªâ b√°o hi·ªáu r·∫±ng m·ªôt node ƒëang qu√° t·∫£i v√† c·∫ßn th·ªùi gian tr∆∞·ªõc khi ti·∫øp t·ª•c giao ti·∫øp. M·ª•c ti√™u c·ªßa Overload Frame l√† ngƒÉn kh√¥ng cho c√°c khung kh√°c ƒë∆∞·ª£c truy·ªÅn qu√° nhanh, gi√∫p node b·ªã qu√° t·∫£i c√≥ ƒë·ªß th·ªùi gian ƒë·ªÉ x·ª≠ l√Ω c√°c khung tr∆∞·ªõc ƒë√≥.

Overload Frame kh√¥ng ph·∫£i do ng∆∞·ªùi d√πng ph√°t ra, m√† ƒë∆∞·ª£c t·ª± ƒë·ªông ph√°t ra b·ªüi ph·∫ßn c·ª©ng CAN khi c·∫ßn thi·∫øt. Node CAN s·∫Ω ph√°t ra Overload Frame khi m·ªôt trong c√°c ƒëi·ªÅu ki·ªán sau x·∫£y ra:

- Node kh√¥ng th·ªÉ x·ª≠ l√Ω ti·∫øp d·ªØ li·ªáu do buffer ƒë√£ ƒë·∫ßy ho·∫∑c c·∫ßn th√™m th·ªùi gian x·ª≠ l√Ω d·ªØ li·ªáu.
- Node kh√¥ng th·ªÉ nh·∫≠n khung m·ªõi do c√≥ qu√° tr√¨nh x·ª≠ l√Ω n·ªôi b·ªô c·∫ßn ho√†n th√†nh tr∆∞·ªõc.

<br>

**C·∫•u tr√∫c c·ªßa Overload Frame**:

![image](https://github.com/user-attachments/assets/6b9c4e01-f31f-4f32-b386-62b506d73b1a)

- **1. Overload Flag**: 6 bit dominant (bit 0) ƒë·ªÉ b√°o hi·ªáu tr·∫°ng th√°i qu√° t·∫£i.
- **2. Overload Delimiter**: 8 bit recessive (bit 1), ƒë·ªÉ ph√¢n t√°ch khung qu√° t·∫£i v·ªõi c√°c khung kh√°c v√† b√°o hi·ªáu k·∫øt th√∫c Overload Frame.

C√°c ƒëi·ªÅu ki·ªán c√≥ th·ªÉ g√¢y ra Overload Frame:

- FIFO (First-In-First-Out) buffer trong node nh·∫≠n ƒë·∫ßy v√† node c·∫ßn th√™m th·ªùi gian ƒë·ªÉ x·ª≠ l√Ω d·ªØ li·ªáu ƒë√£ nh·∫≠n.
- T·∫°m d·ª´ng n·ªôi b·ªô trong node ƒë·ªÉ ho√†n t·∫•t vi·ªác x·ª≠ l√Ω m·ªôt s·ª± ki·ªán tr∆∞·ªõc khi nh·∫≠n th√™m khung d·ªØ li·ªáu m·ªõi.
- Node c·∫ßn x·ª≠ l√Ω m·ªôt y√™u c·∫ßu cao c·∫•p kh√°c (nh∆∞ m·ªôt y√™u c·∫ßu t·ª´ ph·∫ßn m·ªÅm ·ª©ng d·ª•ng).

<br>

Overload Frame **x·∫£y ra** khi m·ªôt node c·∫ßn th√™m th·ªùi gian ƒë·ªÉ x·ª≠ l√Ω khung d·ªØ li·ªáu ƒë√£ nh·∫≠n tr∆∞·ªõc ƒë√≥. ƒêi·ªÅu n√†y ngƒÉn c√°c node kh√°c truy·ªÅn khung m·ªõi qu√° s·ªõm, g√¢y ra qu√° t·∫£i x·ª≠ l√Ω cho node ƒë√£ ph√°t ra Overload Frame.

Overload Frame c√≥ th·ªÉ ƒë∆∞·ª£c ph√°t ra ngay sau Intermission Field (kho·∫£ng tr·ªëng gi·ªØa c√°c khung) ho·∫∑c ngay sau khi m·ªôt khung d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c truy·ªÅn ho√†n t·∫•t, n·∫øu node nh·∫≠n kh√¥ng th·ªÉ x·ª≠ l√Ω k·ªãp th·ªùi. Trong th·ª±c t·∫ø, ƒëi·ªÅu n√†y th∆∞·ªùng x·∫£y ra khi m·ªôt node ƒëang nh·∫≠n nhi·ªÅu d·ªØ li·ªáu t·ª´ nhi·ªÅu ngu·ªìn kh√°c nhau tr√™n m·∫°ng CAN v√† c·∫ßn t·∫°m d·ª´ng ƒë·ªÉ x·ª≠ l√Ω tr∆∞·ªõc khi ti·∫øp t·ª•c nh·∫≠n th√™m d·ªØ li·ªáu.


</p>
</details>

</p>
</details>

</p>
</details>

<details><summary><b>Arbitration trong CAN</b></summary>
<p>

<details><summary><b>üìö C∆° ch·∫ø ∆∞u ti√™n</b></summary>
<p>

Trong m·∫°ng CAN, ID c·ªßa th√¥ng ƒëi·ªáp ƒë√≥ng vai tr√≤ quan tr·ªçng trong vi·ªác x√°c ƒë·ªãnh m·ª©c ƒë·ªô ∆∞u ti√™n. M·ªói th√¥ng ƒëi·ªáp CAN ƒë·ªÅu c√≥ m·ªôt ID ƒë·ªãnh danh (identifier), v√† gi√° tr·ªã c·ªßa ID n√†y quy·∫øt ƒë·ªãnh m·ª©c ƒë·ªô ∆∞u ti√™n khi c√≥ nhi·ªÅu node c·ªë g·∫Øng g·ª≠i d·ªØ li·ªáu c√πng m·ªôt l√∫c.

ID th·∫•p h∆°n t∆∞∆°ng ·ª©ng v·ªõi m·ª©c ƒë·ªô ∆∞u ti√™n cao h∆°n. Nghƒ©a l√†, khi nhi·ªÅu node c√πng mu·ªën truy·ªÅn d·ªØ li·ªáu, node c√≥ ID nh·ªè h∆°n (gi√° tr·ªã nh·ªã ph√¢n th·∫•p h∆°n) s·∫Ω ƒë∆∞·ª£c ∆∞u ti√™n v√† th·∫Øng qu√° tr√¨nh arbitration.

M·ªói bit trong ID c·ªßa th√¥ng ƒëi·ªáp c√≥ th·ªÉ ·ªü tr·∫°ng th√°i dominant (tr·∫°ng th√°i ∆∞u ti√™n ‚Äì gi√° tr·ªã 0) ho·∫∑c recessive (tr·∫°ng th√°i kh√¥ng ∆∞u ti√™n ‚Äì gi√° tr·ªã 1). Khi hai node ho·∫∑c nhi·ªÅu node c√πng g·ª≠i d·ªØ li·ªáu, CAN s·ª≠ d·ª•ng quy t·∫Øc wire ‚Äì AND logic ƒë·ªÉ quy·∫øt ƒë·ªãnh node n√†o ƒë∆∞·ª£c ∆∞u ti√™n.

![image](https://github.com/user-attachments/assets/ac963fd6-6fb1-449e-bb60-87949bcc9d6f)

<br>

![image](https://github.com/user-attachments/assets/d70014b9-1a0f-4b5f-8c8e-6f5ef5845e9f)

<br>

**Nguy√™n l√Ω ho·∫°t ƒë·ªông**:

- Khi nhi·ªÅu node mu·ªën truy·ªÅn d·ªØ li·ªáu, ch√∫ng ƒë·ªÅu b·∫Øt ƒë·∫ßu g·ª≠i th√¥ng ƒëi·ªáp c·ªßa m√¨nh l√™n bus. T√≠n hi·ªáu ƒë∆∞·ª£c g·ª≠i ƒë·ªìng th·ªùi v√† m·ªói node s·∫Ω ki·ªÉm tra t·ª´ng bit c·ªßa d·ªØ li·ªáu tr√™n bus.
- M·ªói bit trong ID s·∫Ω ƒë∆∞·ª£c truy·ªÅn t·ª´ng c√°i m·ªôt (t·ª´ bit MSB - Most Significant Bit). N·∫øu m·ªôt node g·ª≠i bit recessive (1) nh∆∞ng nh·∫≠n th·∫•y tr√™n bus c√≥ bit dominant (0), nghƒ©a l√† c√≥ m·ªôt node kh√°c c√≥ ∆∞u ti√™n cao h∆°n ƒëang chi·∫øm quy·ªÅn truy·ªÅn d·ªØ li·ªáu. L√∫c n√†y, node n√†y s·∫Ω ng·ª´ng truy·ªÅn v√† chuy·ªÉn sang ch·∫ø ƒë·ªô nghe (listen).
- Node c√≥ ID th·∫•p h∆°n (t·ª©c l√† c√≥ nhi·ªÅu bit dominant h∆°n ·ªü ƒë·∫ßu) s·∫Ω ti·∫øp t·ª•c qu√° tr√¨nh truy·ªÅn cho ƒë·∫øn khi to√†n b·ªô ID ƒë∆∞·ª£c g·ª≠i ƒëi, trong khi c√°c node kh√°c ng·ª´ng g·ª≠i v√† chuy·ªÉn sang ch·∫ø ƒë·ªô ch·ªù.
- C√°c node kh√¥ng th·∫Øng qu√° tr√¨nh arbitrage s·∫Ω kh√¥ng b·ªã m·∫•t d·ªØ li·ªáu m√† ch·ªâ ƒë∆°n gi·∫£n l√† ƒë·ª£i l∆∞·ª£t ti·∫øp theo ƒë·ªÉ c·ªë g·∫Øng truy·ªÅn l·∫°i th√¥ng ƒëi·ªáp c·ªßa m√¨nh.


</p>
</details>

<details><summary><b>üìö Non-destructive Arbitration (Tranh ch·∫•p kh√¥ng ph√° h·ªßy)</b></summary>
<p>

C∆° ch·∫ø non-destructive arbitration c√≥ nghƒ©a l√† qu√° tr√¨nh arbitrage di·ªÖn ra m√† kh√¥ng l√†m m·∫•t d·ªØ li·ªáu c·ªßa c√°c node thua. ƒêi·ªÅu n√†y c√≥ ƒë∆∞·ª£c nh·ªù v√†o t√≠nh nƒÉng multi-master v√† c∆° ch·∫ø wire-AND logic c·ªßa CAN.

Khi m·ªôt node thua trong qu√° tr√¨nh arbitration, n√≥ s·∫Ω t·∫°m d·ª´ng vi·ªác truy·ªÅn nh∆∞ng kh√¥ng x√≥a d·ªØ li·ªáu c·ªßa m√¨nh.

Node thua s·∫Ω chuy·ªÉn sang tr·∫°ng th√°i ch·ªù v√† l·∫Øng nghe bus. Khi bus kh√¥ng c√≤n b·∫≠n (t·ª©c l√† node th·∫Øng ƒë√£ g·ª≠i xong th√¥ng ƒëi·ªáp), node thua s·∫Ω th·ª≠ l·∫°i v√† tham gia tranh ch·∫•p quy·ªÅn g·ª≠i ·ªü l·∫ßn ti·∫øp theo.

Qu√° tr√¨nh n√†y ƒë·∫£m b·∫£o r·∫±ng kh√¥ng c√≥ d·ªØ li·ªáu b·ªã m·∫•t trong qu√° tr√¨nh tranh ch·∫•p, v√¨ c√°c node thua s·∫Ω ti·∫øp t·ª•c g·ª≠i th√¥ng ƒëi·ªáp c·ªßa m√¨nh v√†o th·ªùi ƒëi·ªÉm th√≠ch h·ª£p.


</p>
</details>

</p>
</details>

<details><summary><b>L·ªói trong giao th·ª©c CAN</b></summary>
<p>

<details><summary><b>1. C√°c lo·∫°i l·ªói trong CAN</b></summary>
<p>

<details><summary><b>üìö Bit Error</b></summary>
<p>

Bit Error x·∫£y ra khi m·ªôt node g·ª≠i m·ªôt bit (dominant ho·∫∑c recessive) l√™n bus v√† nh·∫≠n l·∫°i m·ªôt bit kh√°c v·ªõi gi√° tr·ªã mong ƒë·ª£i. Trong m·∫°ng CAN, m·ªói node kh√¥ng ch·ªâ g·ª≠i d·ªØ li·ªáu m√† c√≤n t·ª± l·∫Øng nghe c√°c t√≠n hi·ªáu tr√™n bus ƒë·ªÉ ki·ªÉm tra s·ª± ƒë·ªìng b·ªô.

- Bit dominant (0): T√≠n hi·ªáu ∆∞u ti√™n tr√™n bus.
- Bit recessive (1): T√≠n hi·ªáu kh√¥ng ∆∞u ti√™n tr√™n bus.

Nguy√™n nh√¢n:

- N·∫øu m·ªôt node g·ª≠i m·ªôt bit recessive (1) nh∆∞ng nh·∫≠n l·∫°i bit dominant (0) t·ª´ bus, node n√†y s·∫Ω ph√°t hi·ªán ra l·ªói.
- ƒêi·ªÅu n√†y c√≥ th·ªÉ x·∫£y ra khi m·ªôt node kh√°c c√≥ ∆∞u ti√™n cao h∆°n tr√™n bus ƒëang truy·ªÅn d·ªØ li·ªáu, ho·∫∑c do t√≠n hi·ªáu b·ªã nhi·ªÖu.

</p>
</details>

<details><summary><b>üìö Stuff Error</b></summary>
<p>

Stuff Error x·∫£y ra khi c√≥ h∆°n 5 bit li√™n ti·∫øp c√πng gi√° tr·ªã (t·∫•t c·∫£ ƒë·ªÅu l√† 0 ho·∫∑c t·∫•t c·∫£ ƒë·ªÅu l√† 1) tr√™n bus CAN. ƒêi·ªÅu n√†y vi ph·∫°m quy t·∫Øc bit stuffing c·ªßa giao th·ª©c CAN.

**Quy t·∫Øc bit stuffing**: Trong m·∫°ng CAN, sau m·ªói chu·ªói 5 bit gi·ªëng nhau li√™n ti·∫øp, m·ªôt bit ng∆∞·ª£c gi√° tr·ªã (ng∆∞·ª£c v·ªõi gi√° tr·ªã c·ªßa c√°c bit tr∆∞·ªõc ƒë√≥) ph·∫£i ƒë∆∞·ª£c th√™m v√†o ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh ƒë·ªìng b·ªô v√† tr√°nh nhi·ªÖu t√≠n hi·ªáu. N·∫øu quy t·∫Øc n√†y b·ªã vi ph·∫°m, l·ªói s·∫Ω x·∫£y ra.

Nguy√™n nh√¢n: Vi ph·∫°m quy t·∫Øc bit stuffing c√≥ th·ªÉ do l·ªói trong qu√° tr√¨nh truy·ªÅn t√≠n hi·ªáu ho·∫∑c do thi·∫øt b·ªã kh√¥ng tu√¢n theo quy chu·∫©n CAN.

</p>
</details>

<details><summary><b>üìö CRC Error</b></summary>
<p>

CRC Error x·∫£y ra khi c√≥ sai l·ªách trong qu√° tr√¨nh ki·ªÉm tra CRC (Cyclic Redundancy Check), ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ph√°t hi·ªán l·ªói trong d·ªØ li·ªáu truy·ªÅn qua bus.

C∆° ch·∫ø CRC:

- Trong m·ªói khung d·ªØ li·ªáu CAN, c√≥ m·ªôt CRC Field ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ ki·ªÉm tra t√≠nh to√†n v·∫πn c·ªßa d·ªØ li·ªáu. Tr∆∞·ªùng n√†y ch·ª©a gi√° tr·ªã CRC, ƒë∆∞·ª£c t√≠nh to√°n d·ª±a tr√™n n·ªôi dung c·ªßa th√¥ng ƒëi·ªáp.
- Node nh·∫≠n s·∫Ω t√≠nh to√°n l·∫°i gi√° tr·ªã CRC c·ªßa d·ªØ li·ªáu nh·∫≠n ƒë∆∞·ª£c v√† so s√°nh v·ªõi CRC trong tr∆∞·ªùng CRC Field. N·∫øu hai gi√° tr·ªã n√†y kh√¥ng kh·ªõp, m·ªôt CRC error s·∫Ω ƒë∆∞·ª£c ph√°t hi·ªán.

Nguy√™n nh√¢n: L·ªói CRC c√≥ th·ªÉ x·∫£y ra do nhi·ªÖu t√≠n hi·ªáu trong qu√° tr√¨nh truy·ªÅn d·ªØ li·ªáu ho·∫∑c do l·ªói ph·∫ßn c·ª©ng trong node g·ª≠i ho·∫∑c nh·∫≠n.


</p>
</details>

<details><summary><b>üìö Form Error</b></summary>
<p>

Form Error x·∫£y ra khi c·∫•u tr√∫c khung d·ªØ li·ªáu kh√¥ng tu√¢n theo quy chu·∫©n c·ªßa giao th·ª©c CAN. M·ªói khung d·ªØ li·ªáu trong CAN ph·∫£i tu√¢n theo m·ªôt c·∫•u tr√∫c ƒë·ªãnh s·∫µn, bao g·ªìm Start of Frame (SOF), Arbitration Field, Control Field, Data Field, CRC Field, ACK Field, v√† End of Frame (EOF).

Nguy√™n nh√¢n: N·∫øu m·ªôt node nh·∫≠n th·∫•y c√≥ l·ªói trong ƒë·ªãnh d·∫°ng c·ªßa b·∫•t k·ª≥ tr∆∞·ªùng n√†o trong khung d·ªØ li·ªáu, ƒë·∫∑c bi·ªát l√† c√°c bit trong EOF ho·∫∑c ACK Field, n√≥ s·∫Ω ph√°t hi·ªán Form Error.

</p>
</details>

<details><summary><b>üìö Acknowledgment Error</b></summary>
<p>

Acknowledgment Error (ACK Error) x·∫£y ra khi node g·ª≠i th√¥ng ƒëi·ªáp l√™n bus m√† kh√¥ng nh·∫≠n ƒë∆∞·ª£c bit ACK t·ª´ b·∫•t k·ª≥ node n√†o tr√™n m·∫°ng.

C∆° ch·∫ø ACK trong CAN:

- Khi m·ªôt node g·ª≠i th√†nh c√¥ng m·ªôt khung d·ªØ li·ªáu, c√°c node nh·∫≠n ph·∫£i g·ª≠i m·ªôt bit ACK dominant (0) ƒë·ªÉ x√°c nh·∫≠n r·∫±ng d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c nh·∫≠n ch√≠nh x√°c.
- N·∫øu kh√¥ng c√≥ node n√†o g·ª≠i bit ACK, node g·ª≠i s·∫Ω ph√°t hi·ªán ACK Error v√† ph·∫£i truy·ªÅn l·∫°i th√¥ng ƒëi·ªáp.

Nguy√™n nh√¢n:

- Thi·∫øt b·ªã nh·∫≠n c√≥ th·ªÉ kh√¥ng ho·∫°t ƒë·ªông ƒë√∫ng c√°ch ho·∫∑c kh√¥ng k·∫øt n·ªëi ƒë√∫ng v√†o bus CAN.
- T√≠n hi·ªáu ACK c√≥ th·ªÉ b·ªã nhi·ªÖu ho·∫∑c l·ªói ph·∫ßn c·ª©ng.

</p>
</details>

<details><summary><b>üìö </b></summary>
<p>

</p>
</details>

</p>
</details>

<details><summary><b>2. C∆° ch·∫ø ph√°t hi·ªán l·ªói trong m·∫°ng CAN</b></summary>
<p>

M·∫°ng CAN s·ª≠ d·ª•ng nhi·ªÅu c∆° ch·∫ø ƒë·ªÉ ph√°t hi·ªán l·ªói, gi√∫p duy tr√¨ t√≠nh ·ªïn ƒë·ªãnh v√† tin c·∫≠y c·ªßa d·ªØ li·ªáu truy·ªÅn t·∫£i tr√™n bus. C√°c c∆° ch·∫ø n√†y bao g·ªìm:

- **Ki·ªÉm tra bit**: M·ªói node g·ª≠i s·∫Ω t·ª± l·∫Øng nghe d·ªØ li·ªáu m√† n√≥ v·ª´a g·ª≠i ƒë·ªÉ ƒë·∫£m b·∫£o r·∫±ng d·ªØ li·ªáu ƒë√≥ ƒë√£ ƒë∆∞·ª£c truy·ªÅn ƒë√∫ng c√°ch. N·∫øu c√≥ s·ª± kh√°c bi·ªát gi·ªØa bit g·ª≠i ƒëi v√† bit nh·∫≠n l·∫°i, node s·∫Ω ph√°t hi·ªán bit error.
- **Ki·ªÉm tra CRC**: M·ªói th√¥ng ƒëi·ªáp CAN ch·ª©a m·ªôt gi√° tr·ªã CRC ƒë∆∞·ª£c t√≠nh to√°n d·ª±a tr√™n d·ªØ li·ªáu. Node nh·∫≠n s·∫Ω t√≠nh to√°n l·∫°i gi√° tr·ªã CRC v√† so s√°nh v·ªõi CRC c·ªßa th√¥ng ƒëi·ªáp ƒë·ªÉ ph√°t hi·ªán l·ªói.
- **Ki·ªÉm tra ƒë·ªãnh d·∫°ng (Form Check)**: C√°c bit trong EOF v√† ACK Field ph·∫£i tu√¢n theo m·ªôt ƒë·ªãnh d·∫°ng chu·∫©n. N·∫øu kh√¥ng, node nh·∫≠n s·∫Ω ph√°t hi·ªán form error.
- **X√°c nh·∫≠n (Acknowledgment)**: Node g·ª≠i s·∫Ω ki·ªÉm tra xem c√≥ b·∫•t k·ª≥ node n√†o tr√™n bus g·ª≠i bit ACK ƒë·ªÉ x√°c nh·∫≠n r·∫±ng d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c nh·∫≠n th√†nh c√¥ng. N·∫øu kh√¥ng, ACK error s·∫Ω ƒë∆∞·ª£c ph√°t hi·ªán.


</p>
</details>

<details><summary><b>3. C∆° ch·∫ø s·ª≠a l·ªói t·ª± ƒë·ªông trong m·∫°ng CAN</b></summary>
<p>

Khi l·ªói ƒë∆∞·ª£c ph√°t hi·ªán, m·∫°ng CAN c√≥ kh·∫£ nƒÉng s·ª≠a l·ªói m·ªôt c√°ch t·ª± ƒë·ªông th√¥ng qua qu√° tr√¨nh ph√°t Error Frame v√† truy·ªÅn l·∫°i th√¥ng ƒëi·ªáp.

C∆° ch·∫ø s·ª≠a l·ªói trong CAN:

- **Error Frame**: Khi m·ªôt node ph√°t hi·ªán l·ªói (bit error, CRC error, form error, stuff error, ho·∫∑c ACK error), n√≥ s·∫Ω g·ª≠i m·ªôt Error Frame ƒë·ªÉ th√¥ng b√°o cho t·∫•t c·∫£ c√°c node kh√°c tr√™n bus r·∫±ng c√≥ l·ªói ƒë√£ x·∫£y ra.
- **Truy·ªÅn l·∫°i th√¥ng ƒëi·ªáp**: Sau khi Error Frame ƒë∆∞·ª£c ph√°t, c√°c node s·∫Ω d·ª´ng giao ti·∫øp v√† node g·ª≠i ban ƒë·∫ßu s·∫Ω c·ªë g·∫Øng truy·ªÅn l·∫°i th√¥ng ƒëi·ªáp b·ªã l·ªói. Vi·ªác n√†y s·∫Ω ti·∫øp t·ª•c cho ƒë·∫øn khi th√¥ng ƒëi·ªáp ƒë∆∞·ª£c truy·ªÅn ƒëi th√†nh c√¥ng ho·∫∑c node g·ª≠i b·ªã ƒë∆∞a v√†o tr·∫°ng th√°i bus off n·∫øu l·ªói qu√° nhi·ªÅu.

</p>
</details>

<details><summary><b>4. C√°c tr·∫°ng th√°i l·ªói c·ªßa node</b></summary>
<p>

Khi ph√°t hi·ªán l·ªói, c√°c node trong m·∫°ng CAN s·∫Ω t·ª± ƒë·ªông chuy·ªÉn ƒë·ªïi gi·ªØa ba tr·∫°ng th√°i l·ªói ƒë·ªÉ ƒë·∫£m b·∫£o h·ªá th·ªëng ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh v√† kh√¥ng g√¢y gi√°n ƒëo·∫°n cho bus.

<details><summary><b>üìö Error Active</b></summary>
<p>

Trong tr·∫°ng th√°i Error Active, node v·∫´n c√≥ kh·∫£ nƒÉng tham gia ƒë·∫ßy ƒë·ªß v√†o qu√° tr√¨nh truy·ªÅn th√¥ng v√† c√≥ th·ªÉ ph√°t hi·ªán l·ªói. N·∫øu node ph√°t hi·ªán l·ªói, n√≥ s·∫Ω g·ª≠i m·ªôt Error Frame ƒë·ªÉ th√¥ng b√°o cho c√°c node kh√°c tr√™n bus r·∫±ng ƒë√£ x·∫£y ra l·ªói.

</p>
</details>

<details><summary><b>üìö Error Passive</b></summary>
<p>
    
N·∫øu m·ªôt node ph√°t hi·ªán qu√° nhi·ªÅu l·ªói, n√≥ s·∫Ω chuy·ªÉn sang tr·∫°ng th√°i Error Passive. Trong tr·∫°ng th√°i n√†y, node v·∫´n c√≥ th·ªÉ tham gia truy·ªÅn th√¥ng, nh∆∞ng n·∫øu ph√°t hi·ªán l·ªói, n√≥ s·∫Ω kh√¥ng g·ª≠i Error Frame m·∫°nh m·∫Ω nh∆∞ trong tr·∫°ng th√°i Error Active. ƒêi·ªÅu n√†y gi√∫p tr√°nh g√¢y gi√°n ƒëo·∫°n l·ªõn cho bus khi node g·∫∑p s·ª± c·ªë th∆∞·ªùng xuy√™n.

Trong tr·∫°ng th√°i Error Passive, node v·∫´n c√≥ th·ªÉ nh·∫≠n v√† g·ª≠i th√¥ng ƒëi·ªáp nh∆∞ng s·∫Ω h·∫°n ch·∫ø vi·ªác can thi·ªáp v√†o qu√° tr√¨nh truy·ªÅn th√¥ng c·ªßa c√°c node kh√°c. Node ch·ªâ g·ª≠i Error Frame y·∫øu h∆°n ƒë·ªÉ th√¥ng b√°o l·ªói, v√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn qu√° tr√¨nh truy·ªÅn th√¥ng c·ªßa c√°c node kh√°c.


</p>
</details>

<details><summary><b>üìö Bus Off</b></summary>
<p>

Khi m·ªôt node g·∫∑p qu√° nhi·ªÅu l·ªói nghi√™m tr·ªçng, n√≥ s·∫Ω chuy·ªÉn sang tr·∫°ng th√°i Bus Off. Trong tr·∫°ng th√°i n√†y, node s·∫Ω ho√†n to√†n ng·∫Øt k·∫øt n·ªëi kh·ªèi bus CAN v√† kh√¥ng th·ªÉ tham gia v√†o qu√° tr√¨nh truy·ªÅn hay nh·∫≠n d·ªØ li·ªáu. Node ch·ªâ c√≥ th·ªÉ ƒë∆∞·ª£c k·∫øt n·ªëi l·∫°i v√†o bus sau khi ƒë∆∞·ª£c kh·ªüi ƒë·ªông l·∫°i (restart) ho·∫∑c reset b·ªüi ph·∫ßn m·ªÅm.

Bus Off l√† tr·∫°ng th√°i an to√†n, ngƒÉn ch·∫∑n m·ªôt node b·ªã l·ªói n·∫∑ng g√¢y ra s·ª± c·ªë nghi√™m tr·ªçng cho to√†n b·ªô h·ªá th·ªëng CAN.

</p>
</details>

</p>
</details>

</p>
</details>

<details><summary><b>T·ªëc ƒë·ªô truy·ªÅn v√† gi·ªõi h·∫°n v·∫≠t l√Ω c·ªßa CAN</b></summary>
<p>

<details><summary><b>üìö T·ªëc ƒë·ªô baud c·ªßa CAN</b></summary>
<p>

T·ªëc ƒë·ªô baud l√† t·ªëc ƒë·ªô truy·ªÅn d·ªØ li·ªáu tr√™n bus CAN, th∆∞·ªùng ƒë∆∞·ª£c ƒëo b·∫±ng kbps (kilobits per second) ho·∫∑c Mbps (megabits per second). T·ªëc ƒë·ªô baud quy·∫øt ƒë·ªãnh t·ªëc ƒë·ªô truy·ªÅn th√¥ng gi·ªØa c√°c thi·∫øt b·ªã tr√™n m·∫°ng v√† ph·ª• thu·ªôc v√†o kh·∫£ nƒÉng x·ª≠ l√Ω c·ªßa h·ªá th·ªëng c≈©ng nh∆∞ chi·ªÅu d√†i c·ªßa bus.

**D·∫£i t·ªëc ƒë·ªô baud c·ªßa CAN**: 

M·∫°ng CAN h·ªó tr·ª£ d·∫£i t·ªëc ƒë·ªô baud t·ª´ 10 kbps ƒë·∫øn 1 Mbps.

- 10 kbps: T·ªëc ƒë·ªô th·∫•p nh·∫•t, th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng cho c√°c h·ªá th·ªëng c√≥ y√™u c·∫ßu truy·ªÅn th√¥ng ch·∫≠m, nh∆∞ng c·∫ßn truy·ªÅn xa.
- 1 Mbps: T·ªëc ƒë·ªô cao nh·∫•t, th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c ·ª©ng d·ª•ng y√™u c·∫ßu truy·ªÅn th√¥ng nhanh, ch·∫≥ng h·∫°n nh∆∞ trong h·ªá th·ªëng √¥ t√¥ ho·∫∑c robot.

**·∫¢nh h∆∞·ªüng c·ªßa t·ªëc ƒë·ªô baud**:

- **Chi·ªÅu d√†i t·ªëi ƒëa c·ªßa bus**: T·ªëc ƒë·ªô truy·ªÅn c√†ng cao, chi·ªÅu d√†i t·ªëi ƒëa c·ªßa bus c√†ng ng·∫Øn do ·∫£nh h∆∞·ªüng c·ªßa th·ªùi gian lan truy·ªÅn t√≠n hi·ªáu tr√™n bus. ƒêi·ªÅu n√†y c√≥ nghƒ©a l√† khi c·∫ßn truy·ªÅn d·ªØ li·ªáu v·ªõi t·ªëc ƒë·ªô cao, h·ªá th·ªëng ph·∫£i ch·∫•p nh·∫≠n gi·∫£m chi·ªÅu d√†i c·ªßa bus ƒë·ªÉ ƒë·∫£m b·∫£o t√≠n hi·ªáu truy·ªÅn ch√≠nh x√°c v√† ƒë·ªìng b·ªô.
- **ƒê·ªô tr·ªÖ**: T·ªëc ƒë·ªô baud c√†ng cao, ƒë·ªô tr·ªÖ c·ªßa vi·ªác truy·ªÅn th√¥ng tin tr√™n m·∫°ng c√†ng gi·∫£m, gi√∫p c·∫£i thi·ªán kh·∫£ nƒÉng ƒë√°p ·ª©ng c·ªßa h·ªá th·ªëng.


</p>
</details>

<details><summary><b>üìö Chi·ªÅu d√†i t·ªëi ƒëa c·ªßa bus trong CAN</b></summary>
<p>

Chi·ªÅu d√†i c·ªßa bus trong m·∫°ng CAN b·ªã gi·ªõi h·∫°n b·ªüi t·ªëc ƒë·ªô baud v√† ch·∫•t l∆∞·ª£ng c·ªßa d√¢y d·∫´n (bus). S·ª± k·∫øt h·ª£p gi·ªØa t·ªëc ƒë·ªô truy·ªÅn v√† chi·ªÅu d√†i c·ªßa bus quy·∫øt ƒë·ªãnh kh·∫£ nƒÉng truy·ªÅn t√≠n hi·ªáu ƒë√∫ng c√°ch v√† ƒë·ªô tin c·∫≠y c·ªßa m·∫°ng.

**T·ªëc ƒë·ªô truy·ªÅn c√†ng cao, chi·ªÅu d√†i bus c√†ng ng·∫Øn**: ƒêi·ªÅu n√†y do th·ªùi gian lan truy·ªÅn t√≠n hi·ªáu tr√™n d√¢y d·∫´n c·∫ßn ph·∫£i nh·ªè h∆°n m·ªôt kho·∫£ng th·ªùi gian nh·∫•t ƒë·ªãnh ƒë·ªÉ ƒë·∫£m b·∫£o t·∫•t c·∫£ c√°c node tr√™n bus c√≥ th·ªÉ nh·∫≠n ƒë∆∞·ª£c t√≠n hi·ªáu ƒë·ªìng b·ªô.

Khi t·ªëc ƒë·ªô baud tƒÉng l√™n, th·ªùi gian bit ng·∫Øn l·∫°i, nghƒ©a l√† t√≠n hi·ªáu ph·∫£i ƒë·∫øn c√°c node nh·∫≠n nhanh h∆°n. Do ƒë√≥, chi·ªÅu d√†i t·ªëi ƒëa c·ªßa bus ph·∫£i gi·∫£m ƒë·ªÉ ƒë·∫£m b·∫£o th·ªùi gian lan truy·ªÅn t√≠n hi·ªáu ph√π h·ª£p v·ªõi t·ªëc ƒë·ªô baud.

</p>
</details>

</p>
</details>

</p>
</details>

<br>

üìöüìöüìö
